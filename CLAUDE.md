# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is a take-home assessment for Engineers Gate - a React-based trading dashboard using TanStack Router, AG Grid, and Tailwind CSS. The project displays trade data, financial tables, and candlestick charts with dark/light mode support.

**Key requirement**: Dark mode is the default theme. Both light and dark modes must be fully supported across all components.

## Development Commands

```bash
# Install dependencies
pnpm install

# Start development server (runs on http://localhost:5173 by default)
pnpm run dev

# Build for production (runs TypeScript compiler + Vite build)
pnpm run build

# Preview production build
pnpm preview

# Run ESLint
pnpm run lint
```

## Architecture

### Routing
- Uses **TanStack Router** with file-based routing
- Routes are defined in `src/routes/` directory
- Auto-generated route tree in `routeTree.gen.ts` (don't edit manually)
- Root layout in `src/routes/__root.tsx` contains global navigation and theme setup

### State Management
- **Zustand** for global state (dark mode store in `src/stores/DarkModeStore.ts`)
- Dark mode persisted to localStorage via `useLocalStorage` hook
- Dark mode applies via Tailwind's `dark:` class on document element

### Theme System
- Theme state managed by `DarkModeStore.ts` using Zustand
- Supports three modes: `DARK`, `LIGHT`, `SYSTEM` (from `SystemTheme` enum)
- Dark mode toggled with: `Ctrl+0` keyboard shortcut
- Initial theme from localStorage, falls back to system preference
- Theme applied by adding/removing `dark` class on `document.documentElement`
- Components use Tailwind's `dark:` variants for dark mode styling
- AG Grid charts use `ag-financial-dark` theme for dark mode, `ag-financial` for light
- AG Grid tables use `themeQuartz.withPart(colorSchemeDarkBlue)` for dark mode

### Data Loading
- All data is static JSON in `src/data/` directory
- Three main data categories:
  - `homePage/trades.json` - Trading data
  - `tableOverview/` - credit.json, holdings.json, risk.json, transactions.json
  - `candleStick/` - aapl.json, msft.json, tsla.json
- Column definitions for AG Grid tables centralized in `src/data/columnDefs.ts`

### Components
- **Table component** (`src/components/Table.tsx`): AG Grid wrapper for tabular data
  - Currently hardcoded to trades data - needs to be made reusable
  - Uses column defs from `src/data/columnDefs.ts`
  - Theme switches between light/dark using AG Grid's theme system

- **CandleStick component** (`src/components/CandleStick.tsx`): AG Charts Financial wrapper
  - Currently hardcoded to AAPL data - needs to be made reusable
  - Uses `ag-financial-dark` or `ag-financial` theme based on mode
  - Accepts `height` and `title` props

- **Navigation components**: LightDarkModeToggle, Breadcrumb, EngineersGateLogo
  - Navigation config in `src/data/NavigationConfig.ts`

### Key Files
- `src/routes/__root.tsx` - Root layout with navigation, logo, breadcrumb, and theme toggle
- `src/stores/DarkModeStore.ts` - Dark mode state management with system preference detection
- `src/data/columnDefs.ts` - All AG Grid column definitions (TRADES, CREDIT, HOLDINGS, RISK, TRANSACTIONS)
- `src/data/NavigationConfig.ts` - Page routes and names

## Path Aliases

Uses `@/` alias for `./src/` directory (configured in vite.config.ts and tsconfig.json).

## Critical Notes

- When making Table or CandleStick components reusable, they must accept data and configuration as props
- All new components must support dark mode using Tailwind's `dark:` variants
- AG Grid components need separate theme handling (not just Tailwind classes)
- Don't modify `routeTree.gen.ts` - it's auto-generated by TanStack Router plugin
- Browser target: Latest Chrome only (no cross-browser compatibility needed)
